<?xml version="1.0"?>
<launch>

  <arg name="arduino_port" default="/dev/ttyACM0"/>
  <arg name="arduino_baud" default="115200"/>

  <node pkg="joy" type="joy_node" name="joy" >
    <param name="deadzone" value="0.0" />
    <param name="autorepeat_rate" value="5"/>
  </node>

  <node pkg="racecar_teleop" type="slash_teleop.py" name="teleop"/>

  <node pkg="racecar_autopilot" type="slash_controller.py" name="controller" output="screen"/>

  <node pkg="rosserial_python" type="serial_node.py" name="arduino" >
    <param name="port" value="$(arg arduino_port)"/>
    <param name="baud" value="$(arg arduino_baud)"/>
  </node>

    <node pkg="rplidar_ros"  type="rplidarNode" name="rplidar">
        <param name="serial_port" type="string" value="/dev/ttyUSB0"/>
        <param name="serial_baudrate" type="int" value="115200"/>
        <param name="frame_id" type="string" value="laser"/>
        <param name="inverted" type="bool" value="false"/>
        <param name="angle_compensate" type="bool" value="true"/>
    </node>

   <node pkg="racecar_autopilot" type="wall_estimator.py" name="estimator" output="screen"/>

</launch>
